{% extends "base_with_header.html" %}

{% block content %}
	<script>
		var socket = io.connect('http://' + document.domain + ':' + location.port + '/wrws');

		socket.on('update', function(msg) {
			var players = document.getElementById('players')

			players.innerHTML = ('<p>'+msg.players+'</p>')
		});

		socket.on('connect', function() {
			socket.emit('player join', {'room_id': '{{ room_id }}'})
		})
	</script>
	<h1>Room {{ room_id }}</h1>
	<div id="players">
	</div>
{% endblock %}